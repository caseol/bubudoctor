<%= form_with(model: patient, remote: true) do |form| %>
  <div class="container col-sm-12">
    <% if patient.errors.any? %>
      <div id="error_explanation">
        <!--      <h2><%#= pluralize(patient.errors.count, "error") %> prohibited this patient from being saved:</h2>-->
        <ul>
          <% patient.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <div class="row">
      <div class="col-sm-4 patient-info">
        <div class="form-group">
          <%= form.label :protocol_number %>
          <%= form.number_field :protocol_number, class: 'form-control'  %>
        </div>
        <div class="form-group">
          <%= form.label :patient_since %>
          <div class="input-group date-picker" id="datepicker-pacient-since" data-target-input="nearest">
            <%= form.text_field :patient_since, value:"#{patient.patient_since.strftime('%d/%m/%Y %H:%M') unless patient.try(:patient_since).blank?}", class:'form-control datetimepicker-input', data:{target:'#datepicker-pacient-since'} %>
            <div class="input-group-append" data-target="#datepicker-pacient-since" data-toggle="datetimepicker">
              <div class="input-group-text"><%= icon('far', 'calendar-alt') %></div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <%= form.label :name %>
          <%= form.text_field :name, class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= form.label :cpf %>
          <%= form.text_field :cpf, class: 'form-control masked_cpf' %>
        </div>
        <div class="form-group">
          <%= form.label :email %>
          <%= form.text_field :email, class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= form.label :mobile %>
          <%= form.text_field :mobile, class: 'form-control masked_mobile' %>
        </div>
        <div class="form-group">
          <%= form.label :telephone %>
          <%= form.text_field :telephone, class: 'form-control masked_phone' %>
        </div>
        <div class="form-group">
          <%= form.label :indication_by %>
          <%= form.text_area :indication_by, class: 'form-control' %>
        </div>
      </div>
      <div class="col-sm-4 patient-address">
        <div class="form-group">
          <%= form.label :birth %>
          <div class="input-group date-picker" id="datepicker-pacient-birth" data-target-input="nearest">
            <%= form.text_field :birth, value:"#{patient.birth.strftime('%d/%m/%Y %H:%M') unless patient.try(:birth).blank?}", class:'form-control datetimepicker-input', data:{target:'#datepicker-pacient-birth'} %>
            <div class="input-group-append" data-target="#datepicker-pacient-birth" data-toggle="datetimepicker">
              <div class="input-group-text"><%= icon('far', 'calendar-alt') %></div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <%= form.label :age %>
          <%= form.number_field :age, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= form.label :civil_status %>
          <%= form.select(:civil_status, Patient::CIVIL_STATUS.to_h.values, {}, class: "form-control") %>
        </div>

        <div class="form-group">
          <%= form.label :zip %>
          <%= form.text_field :zip, class: 'form-control masked_cep' %>
        </div>
        <div class="form-group">
          <%= form.label :uf %>
          <%= form.text_field :uf, class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= form.label :address %>
          <%= form.text_field :address, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= form.label :city %>
          <%= form.text_field :city, class: 'form-control' %>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="form-group">
          <%= form.label :gender %>
          <%= form.select(:gender, Patient::GENDER.to_h.values, {}, class: "form-control") %>

        </div>
        <div class="form-group">
          <%= form.label :occupation %>
          <%= form.text_field :occupation, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= form.label :scholarity %>
          <%= form.select(:scholarity, Patient::SCHOLARITY.to_h.values, {}, class: "form-control") %>

        </div>
        <div class="form-group">
          <%= form.label :etnia %>
          <%= form.select(:etnia, Patient::ETNIA.to_h.values, {}, class: "form-control") %>
        </div>
        <div class="form-group">
          <%= form.label :health_insurance %>
          <%= form.select(:health_insurance, Patient::HEALTH_INSURANCE.to_h.values, {prompt: "Selecione um ConvÃªnio"}, class: "form-control") %>
        </div>
        <div class="form-group">
          <%= form.label :health_plan %>
          <%= form.text_field :health_plan, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= form.label :plan_validation %>
          <div class="input-group date-picker" id="datepicker-plan_validation" data-target-input="nearest">
            <%= form.text_field :plan_validation, value:"#{patient.plan_validation.strftime('%d/%m/%Y %H:%M') unless patient.try(:plan_validation).blank?}", class:'form-control datetimepicker-input', data:{target:'#datepicker-plan_validation'} %>

            <div class="input-group-append" data-target="#datepicker-plan_validation" data-toggle="datetimepicker">
              <div class="input-group-text"><%= icon('far', 'calendar-alt') %></div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <%= form.label :plan_number %>
          <%= form.text_field :plan_number, class: 'form-control' %>
        </div>

<!--        <div class="form-group">-->
          <%#= form.label :created_at %>
          <%#= form.datetime_select :created_at, class: 'form-control' %>
<!--        </div>-->

<!--        <div class="form-group">-->
          <%#= form.label :updated_at %>
          <%#= form.datetime_select :updated_at, class: 'form-control' %>
<!--        </div>-->
<!--      </div>-->
    </div>
      <div class="actions col-12">
        <%= form.submit({class: 'btn btn-primary'}) %>
      </div>
    </div>
  </div>
<% end %>